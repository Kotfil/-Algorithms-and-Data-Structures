// ‚úÖ –ó–∞–¥–∞—á–∞: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –≤ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ –¥–µ—Ä–µ–≤–∞ (Tree DP)
// –î–∞–Ω–æ –¥–µ—Ä–µ–≤–æ, –≤ —É–∑–ª–∞—Ö –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—Ö–æ–¥—è—Ç—Å—è —á–∏—Å–ª–∞.
//     –ù—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–µ—Ä—à–∏–Ω, –Ω–∏–∫–∞–∫–∏–µ –¥–≤–µ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ —Å–æ–µ–¥–∏–Ω–µ–Ω—ã —Ä–µ–±—Ä–æ–º,
//     —á—Ç–æ–±—ã —Å—É–º–º–∞ –∑–Ω–∞—á–µ–Ω–∏–π –±—ã–ª–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π.

    //  1
    // / \
    // 2   3

// –ó–Ω–∞—á–µ–Ω–∏—è: val[1] = 1, val[2] = 2, val[3] = 3
// –†–µ—à–µ–Ω–∏–µ: –≤–∑—è—Ç—å 2 –∏ 3 (–Ω–µ –±—Ä–∞—Ç—å 1). –°—É–º–º–∞: 5.
//
// üß† –ò–¥–µ—è:
//     –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ —Å—á–∏—Ç–∞–µ–º –¥–≤–∞ –∑–Ω–∞—á–µ–Ω–∏—è:
//
//     dp[node][0] ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞, –µ—Å–ª–∏ –Ω–µ –±—Ä–∞—Ç—å —ç—Ç–æ—Ç —É–∑–µ–ª
//
// dp[node][1] ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞, –µ—Å–ª–∏ –≤–∑—è—Ç—å —ç—Ç–æ—Ç —É–∑–µ–ª

function treeDP(root) {
    function dfs(node) {
        if (!node) return [0, 0]; // [–Ω–µ –±–µ—Ä–µ–º, –±–µ—Ä–µ–º]

        let sum0 = 0; // –µ—Å–ª–∏ –Ω–µ –±–µ—Ä–µ–º node
        let sum1 = node.val; // –µ—Å–ª–∏ –±–µ—Ä–µ–º node

        for (let child of node.children) {
            const [child0, child1] = dfs(child);
            sum0 += Math.max(child0, child1); // –º–æ–∂–µ–º –≤–∑—è—Ç—å –∏–ª–∏ –Ω–µ –≤–∑—è—Ç—å
            sum1 += child0; // –µ—Å–ª–∏ –±–µ—Ä–µ–º —Ç–µ–∫—É—â–∏–π ‚Äî –¥–µ—Ç–µ–π –Ω–µ —Ç—Ä–æ–≥–∞–µ–º
        }

        return [sum0, sum1];
    }

    const [notTake, take] = dfs(root);
    return Math.max(notTake, take);
}


class TreeNode {
    constructor(val) {
        this.val = val;
        this.children = [];
    }
}

// –ü—Ä–∏–º–µ—Ä
const root = new TreeNode(1);
const node2 = new TreeNode(2);
const node3 = new TreeNode(3);
root.children.push(node2, node3);

console.log(treeDP(root)); // üëâ 5


// üîç –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
//     –û–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞ –≤ –≥–ª—É–±–∏–Ω—É (DFS).
//
//     –î–ª—è –∫–∞–∂–¥–æ–π –≤–µ—Ä—à–∏–Ω—ã –∑–∞–ø–æ–º–∏–Ω–∞–µ–º –º–∞–∫—Å–∏–º—É–º:
//
//     –µ—Å–ª–∏ –µ—ë –Ω–µ –±—Ä–∞—Ç—å, –º–æ–∂–Ω–æ –±—Ä–∞—Ç—å –∏–ª–∏ –Ω–µ –±—Ä–∞—Ç—å –¥–µ—Ç–µ–π.
//
//     –µ—Å–ª–∏ –µ—ë –≤–∑—è—Ç—å, –Ω–µ–ª—å–∑—è –±—Ä–∞—Ç—å –¥–µ—Ç–µ–π.

